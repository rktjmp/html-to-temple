function e(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})})),t}var t,n=e(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),r=(function(e,t){var r=void 0!==r?r:{};e.exports=function(){var t,s={};for(t in r)r.hasOwnProperty(t)&&(s[t]=r[t]);var _,a,i=function(e,t){throw t},o=!1,u=!1;o="object"==typeof window,u="function"==typeof importScripts,_="object"==typeof process&&"object"==typeof process.versions&&"string"==typeof process.versions.node,a=!o&&!_&&!u;var l,c,m,d,f="";_?(f=u?n.dirname(f)+"/":__dirname+"/",l=function(e,t){return m||(m=n),d||(d=n),e=d.normalize(e),m.readFileSync(e,t?null:"utf8")},c=function(e){var t=l(e,!0);return t.buffer||(t=new Uint8Array(t)),A(t.buffer),t},process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2),e.exports=r,i=function(e){process.exit(e)},r.inspect=function(){return"[Emscripten Module object]"}):a?("undefined"!=typeof read&&(l=function(e){return read(e)}),c=function(e){var t;return"function"==typeof readbuffer?new Uint8Array(readbuffer(e)):(A("object"==typeof(t=read(e,"binary"))),t)},"undefined"!=typeof scriptArgs&&scriptArgs,"function"==typeof quit&&(i=function(e){quit(e)}),"undefined"!=typeof print&&("undefined"==typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!=typeof printErr?printErr:print)):(o||u)&&(u?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),f=0!==f.indexOf("blob:")?f.substr(0,f.lastIndexOf("/")+1):"",l=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},u&&(c=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})),r.print||console.log.bind(console);var p=r.printErr||console.warn.bind(console);for(t in s)s.hasOwnProperty(t)&&(r[t]=s[t]);s=null,r.quit&&(i=r.quit);var h,g,w,y,b=16,E=[];function v(e,t){if(!h){h=new WeakMap;for(var n=0;n<D.length;n++){var r=D.get(n);r&&h.set(r,n)}}if(h.has(e))return h.get(e);var s=function(){if(E.length)return E.pop();try{D.grow(1)}catch(e){if(!(e instanceof RangeError))throw e;throw"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH."}return D.length-1}();try{D.set(s,e)}catch(a){if(!(a instanceof TypeError))throw a;var _=function(e,t){if("function"==typeof WebAssembly.Function){for(var n={i:"i32",j:"i64",f:"f32",d:"f64"},r={parameters:[],results:"v"==t[0]?[]:[n[t[0]]]},s=1;s<t.length;++s)r.parameters.push(n[t[s]]);return new WebAssembly.Function(r,e)}var _=[1,0,1,96],a=t.slice(0,1),i=t.slice(1),o={i:127,j:126,f:125,d:124};for(_.push(i.length),s=0;s<i.length;++s)_.push(o[i[s]]);"v"==a?_.push(0):_=_.concat([1,o[a]]),_[1]=_.length-2;var u=new Uint8Array([0,97,115,109,1,0,0,0].concat(_,[2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0])),l=new WebAssembly.Module(u);return new WebAssembly.Instance(l,{e:{f:e}}).exports.f}(e,t);D.set(s,_)}return h.set(e,s),s}function I(e,t,n,r){switch("*"===(n=n||"i8").charAt(n.length-1)&&(n="i32"),n){case"i1":case"i8":P[e>>0]=t;break;case"i16":C[e>>1]=t;break;case"i32":R[e>>2]=t;break;case"i64":oe=[t>>>0,(ie=t,+Math.abs(ie)>=1?ie>0?(0|Math.min(+Math.floor(ie/4294967296),4294967295))>>>0:~~+Math.ceil((ie-+(~~ie>>>0))/4294967296)>>>0:0)],R[e>>2]=oe[0],R[e+4>>2]=oe[1];break;case"float":q[e>>2]=t;break;case"double":T[e>>3]=t;break;default:ee("invalid type for setValue: "+n)}}function S(e,t,n){switch("*"===(t=t||"i8").charAt(t.length-1)&&(t="i32"),t){case"i1":case"i8":return P[e>>0];case"i16":return C[e>>1];case"i32":case"i64":return R[e>>2];case"float":return q[e>>2];case"double":return T[e>>3];default:ee("invalid type for getValue: "+t)}return null}r.wasmBinary&&(g=r.wasmBinary),r.noExitRuntime&&(w=r.noExitRuntime),"object"!=typeof WebAssembly&&ee("no native wasm support detected");var x=!1;function A(e,t){e||ee("Assertion failed: "+t)}var N,P,k,C,R,q,T,O=1,Z="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function F(e,t,n){for(var r=t+n,s=t;e[s]&&!(s>=r);)++s;if(s-t>16&&e.subarray&&Z)return Z.decode(e.subarray(t,s));for(var _="";t<s;){var a=e[t++];if(128&a){var i=63&e[t++];if(192!=(224&a)){var o=63&e[t++];if((a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])<65536)_+=String.fromCharCode(a);else{var u=a-65536;_+=String.fromCharCode(55296|u>>10,56320|1023&u)}}else _+=String.fromCharCode((31&a)<<6|i)}else _+=String.fromCharCode(a)}return _}function W(e,t){return e?F(k,e,t):""}function L(e,t,n){return function(e,t,n,r){if(!(r>0))return 0;for(var s=n,_=n+r-1,a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i>=55296&&i<=57343&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),i<=127){if(n>=_)break;t[n++]=i}else if(i<=2047){if(n+1>=_)break;t[n++]=192|i>>6,t[n++]=128|63&i}else if(i<=65535){if(n+2>=_)break;t[n++]=224|i>>12,t[n++]=128|i>>6&63,t[n++]=128|63&i}else{if(n+3>=_)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63,t[n++]=128|i>>6&63,t[n++]=128|63&i}}return t[n]=0,n-s}(e,k,t,n)}function M(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);r>=55296&&r<=57343&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),r<=127?++t:t+=r<=2047?2:r<=65535?3:4}return t}function $(e){N=e,r.HEAP8=P=new Int8Array(e),r.HEAP16=C=new Int16Array(e),r.HEAP32=R=new Int32Array(e),r.HEAPU8=k=new Uint8Array(e),r.HEAPU16=new Uint16Array(e),r.HEAPU32=new Uint32Array(e),r.HEAPF32=q=new Float32Array(e),r.HEAPF64=T=new Float64Array(e)}var j=new WebAssembly.Global({value:"i32",mutable:!0},5250848);r.___heap_base=5250848;var U=r.INITIAL_MEMORY||33554432;(y=r.wasmMemory?r.wasmMemory:new WebAssembly.Memory({initial:U/65536,maximum:32768}))&&(N=y.buffer),U=N.byteLength,$(N);var D=new WebAssembly.Table({initial:13,element:"anyfunc"}),G=[],B=[],H=[],z=[],K=!1;function V(e){G.unshift(e)}var X=0,Y=null;function J(e){X++,r.monitorRunDependencies&&r.monitorRunDependencies(X)}function Q(e){if(X--,r.monitorRunDependencies&&r.monitorRunDependencies(X),0==X&&Y){var t=Y;Y=null,t()}}function ee(e){throw r.onAbort&&r.onAbort(e),p(e+=""),x=!0,e="abort("+e+"). Build with -s ASSERTIONS=1 for more info.",new WebAssembly.RuntimeError(e)}function te(e,t){return String.prototype.startsWith?e.startsWith(t):0===e.indexOf(t)}r.preloadedImages={},r.preloadedAudios={},r.preloadedWasm={},V((function(){var e=[];if(r.dynamicLibraries&&(e=e.concat(r.dynamicLibraries)),e.length)return c?(e.forEach((function(e){Ee(e,{global:!0,nodelete:!0,allowUndefined:!0})})),void ve()):(J(),void Promise.all(e.map((function(e){return Ee(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})}))).then((function(){Q(),ve()})));ve()}));var ne="data:application/octet-stream;base64,";function re(e){return te(e,ne)}var se="file://";function _e(e){return te(e,se)}var ae,ie,oe,ue="tree-sitter.wasm";function le(){try{if(g)return new Uint8Array(g);if(c)return c(ue);throw"both async and sync fetching of the wasm failed"}catch(e){ee(e)}}re(ue)||(ae=ue,ue=r.locateFile?r.locateFile(ae,f):f+ae);var ce={},me={get:function(e,t){return ce[t]||(ce[t]=new WebAssembly.Global({value:"i32",mutable:!0})),ce[t]}};function de(e){for(;e.length>0;){var t=e.shift();if("function"!=typeof t){var n=t.func;"number"==typeof n?void 0===t.arg?D.get(n)():D.get(n)(t.arg):n(void 0===t.arg?null:t.arg)}else t(r)}}function fe(e,t,n){return-1!=e.indexOf("j")?(s=e,_=t,(a=n)&&a.length?r["dynCall_"+s].apply(null,[_].concat(a)):r["dynCall_"+s].call(null,_)):D.get(t).apply(null,n);var s,_,a}var pe,he={nextHandle:1,loadedLibs:{},loadedLibNames:{}};function ge(e,t){var n={};for(var r in e){var s=e[r];"object"==typeof s&&(s=s.value),"number"==typeof s&&(s+=t),n[r]=s}return function(e){for(var t in e)if("__cpp_exception"!=t&&"__dso_handle"!=t&&"__wasm_apply_relocs"!=t){var n=!1,r=e[t];0==t.indexOf("orig$")&&(t=t.split("$")[1],n=!0),ce[t]||(ce[t]=new WebAssembly.Global({value:"i32",mutable:!0})),(n||0==ce[t].value)&&("function"==typeof r?ce[t].value=v(r):"number"==typeof r?ce[t].value=r:p("unhandled export type for `"+t+"`: "+typeof r))}}(n),n}function we(e){return 0==e.indexOf("dynCall_")||-1!=["setTempRet0","getTempRet0","stackAlloc","stackSave","stackRestore"].indexOf(e)?e:"_"+e}function ye(e,t){var n,s;return t&&(n=r.asm["orig$"+e]),n||(n=r.asm[e]),!n&&t&&(n=r["_orig$"+e]),n||(n=r[we(e)]),n||0!=e.indexOf("invoke_")||(s=e.split("_")[1],n=function(){var e=Oe();try{return fe(s,arguments[0],Array.prototype.slice.call(arguments,1))}catch(t){if(Ze(e),t!==t+0&&"longjmp"!==t)throw t;_setThrew(1,0)}}),n}function be(e,t){A(1836278016==new Uint32Array(new Uint8Array(e.subarray(0,24)).buffer)[0],"need to see wasm magic number"),A(0===e[8],"need the dylink section to be first");var n=9;function s(){for(var t=0,r=1;;){var s=e[n++];if(t+=(127&s)*r,r*=128,!(128&s))break}return t}s(),A(6===e[n]),A(e[++n]==="d".charCodeAt(0)),A(e[++n]==="y".charCodeAt(0)),A(e[++n]==="l".charCodeAt(0)),A(e[++n]==="i".charCodeAt(0)),A(e[++n]==="n".charCodeAt(0)),A(e[++n]==="k".charCodeAt(0)),n++;for(var _=s(),a=s(),i=s(),o=s(),u=s(),l=[],c=0;c<u;++c){var m=s(),d=e.subarray(n,n+m);n+=m;var f=F(d,0);l.push(f)}function p(){a=Math.pow(2,a),o=Math.pow(2,o),a=Math.max(a,b);var n,s,u,l=(n=function(e){if(K)return qe(e);var t=r.___heap_base,n=t+e+15&-16;return r.___heap_base=n,ce.__heap_base.value=n,t}(_+a),(s=a)||(s=b),Math.ceil(n/s)*s),c=Ce,m=D,d=m.length,f=m;m.grow(i),A(m===f);for(var p=l;p<l+_;p++)P[p]=0;for(p=d;p<d+i;p++)m.set(p,null);for(var h in r)h in c||(c[h]=r[h]);var g=new Proxy(c,{get:function(e,t){switch(t){case"__memory_base":return l;case"__table_base":return d}return t in e?e[t]:e[t]=function(){return n||((r=ye(e=t,!1))||(r=u[e]),n=r),n.apply(null,arguments);var e,r};var n}}),w={"GOT.mem":new Proxy(Ce,me),"GOT.func":new Proxy(Ce,me),env:g,wasi_snapshot_preview1:g};function y(e){u=ge(e.exports,l),t.allowUndefined||ve();var n=u.__post_instantiate;return n&&(K?n():B.push(n)),u}return t.loadAsync?WebAssembly.instantiate(e,w).then((function(e){return y(e.instance)})):y(new WebAssembly.Instance(new WebAssembly.Module(e),w))}return t.loadAsync?Promise.all(l.map((function(e){return Ee(e,t)}))).then((function(){return p()})):(l.forEach((function(e){Ee(e,t)})),p())}function Ee(e,t){"__main__"!=e||he.loadedLibNames[e]||(he.loadedLibs[-1]={refcount:1/0,name:"__main__",module:r.asm,global:!0},he.loadedLibNames.__main__=-1),t=t||{global:!0,nodelete:!0};var n,s=he.loadedLibNames[e];if(s)return n=he.loadedLibs[s],t.global&&!n.global&&(n.global=!0,"loading"!==n.module&&i(n.module)),t.nodelete&&n.refcount!==1/0&&(n.refcount=1/0),n.refcount++,t.loadAsync?Promise.resolve(s):s;function _(e){if(t.fs){var n=t.fs.readFile(e,{encoding:"binary"});return n instanceof Uint8Array||(n=new Uint8Array(lib_data)),t.loadAsync?Promise.resolve(n):n}return t.loadAsync?(r=e,fetch(r,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load binary file at '"+r+"'";return e.arrayBuffer()})).then((function(e){return new Uint8Array(e)}))):c(e);var r}function a(){if(void 0!==r.preloadedWasm&&void 0!==r.preloadedWasm[e]){var n=r.preloadedWasm[e];return t.loadAsync?Promise.resolve(n):n}return t.loadAsync?_(e).then((function(e){return be(e,t)})):be(_(e),t)}function i(e){for(var t in e)if(e.hasOwnProperty(t)){var n=we(t);r.hasOwnProperty(n)||(r[n]=e[t])}}function o(e){n.global&&i(e),n.module=e}return s=he.nextHandle++,n={refcount:t.nodelete?1/0:1,name:e,module:"loading",global:t.global},he.loadedLibNames[e]=s,he.loadedLibs[s]=n,t.loadAsync?a().then((function(e){return o(e),s})):(o(a()),s)}function ve(){for(var e in ce)if(0==ce[e].value){var t=ye(e,!0);"function"==typeof t?ce[e].value=v(t,t.sig):"number"==typeof t?ce[e].value=t:A(!1,"bad export type for `"+e+"`: "+typeof t)}}function Ie(){ee()}r._abort=Ie,pe=_?function(){var e=process.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!=typeof dateNow?dateNow:function(){return performance.now()};var Se=!0;function xe(e,t){var n,r;if(0===e)n=Date.now();else{if(1!==e&&4!==e||!Se)return r=28,R[Te()>>2]=r,-1;n=pe()}return R[t>>2]=n/1e3|0,R[t+4>>2]=n%1e3*1e3*1e3|0,0}function Ae(e){try{return y.grow(e-N.byteLength+65535>>>16),$(y.buffer),1}catch(t){}}function Ne(e){Me(e)}function Pe(e){}xe.sig="iii",Ne.sig="vi",Pe.sig="vi",B.push({func:function(){Re()}});var ke,Ce={__indirect_function_table:D,__memory_base:1024,__stack_pointer:j,__table_base:1,abort:Ie,clock_gettime:xe,emscripten_memcpy_big:function(e,t,n){k.copyWithin(e,t,t+n)},emscripten_resize_heap:function(e){e>>>=0;var t=k.length;if(e>2147483648)return!1;for(var n,r,s=1;s<=4;s*=2){var _=t*(1+.2/s);if(_=Math.min(_,e+100663296),Ae(Math.min(2147483648,((n=Math.max(16777216,e,_))%(r=65536)>0&&(n+=r-n%r),n))))return!0}return!1},exit:Ne,memory:y,setTempRet0:Pe,tree_sitter_log_callback:function(e,t){if(nt){const n=W(t);nt(n,0!==e)}},tree_sitter_parse_callback:function(e,t,n,r,s){var _=tt(t,{row:n,column:r});"string"==typeof _?(I(s,_.length,"i32"),function(e,t,n){if(void 0===n&&(n=2147483647),n<2)return 0;for(var r=(n-=2)<2*e.length?n/2:e.length,s=0;s<r;++s){var _=e.charCodeAt(s);C[t>>1]=_,t+=2}C[t>>1]=0}(_,e,10240)):I(s,0,"i32")}},Re=(function(){var e={env:Ce,wasi_snapshot_preview1:Ce,"GOT.mem":new Proxy(Ce,me),"GOT.func":new Proxy(Ce,me)};function t(e,t){var n=e.exports;n=ge(n,1024),r.asm=n,Q()}function n(e){t(e.instance)}function s(t){return(g||!o&&!u||"function"!=typeof fetch||_e(ue)?Promise.resolve().then(le):fetch(ue,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+ue+"'";return e.arrayBuffer()})).catch((function(){return le()}))).then((function(t){return WebAssembly.instantiate(t,e)})).then(t,(function(e){p("failed to asynchronously prepare wasm: "+e),ee(e)}))}if(J(),r.instantiateWasm)try{return r.instantiateWasm(e,t)}catch(_){return p("Module.instantiateWasm callback failed with error: "+_),!1}g||"function"!=typeof WebAssembly.instantiateStreaming||re(ue)||_e(ue)||"function"!=typeof fetch?s(n):fetch(ue,{credentials:"same-origin"}).then((function(t){return WebAssembly.instantiateStreaming(t,e).then(n,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),s(n)}))}))}(),r.___wasm_call_ctors=function(){return(Re=r.___wasm_call_ctors=r.asm.__wasm_call_ctors).apply(null,arguments)}),qe=r._malloc=function(){return(qe=r._malloc=r.asm.malloc).apply(null,arguments)},Te=(r._ts_language_symbol_count=function(){return(r._ts_language_symbol_count=r.asm.ts_language_symbol_count).apply(null,arguments)},r._ts_language_version=function(){return(r._ts_language_version=r.asm.ts_language_version).apply(null,arguments)},r._ts_language_field_count=function(){return(r._ts_language_field_count=r.asm.ts_language_field_count).apply(null,arguments)},r._ts_language_symbol_name=function(){return(r._ts_language_symbol_name=r.asm.ts_language_symbol_name).apply(null,arguments)},r._ts_language_symbol_for_name=function(){return(r._ts_language_symbol_for_name=r.asm.ts_language_symbol_for_name).apply(null,arguments)},r._ts_language_symbol_type=function(){return(r._ts_language_symbol_type=r.asm.ts_language_symbol_type).apply(null,arguments)},r._ts_language_field_name_for_id=function(){return(r._ts_language_field_name_for_id=r.asm.ts_language_field_name_for_id).apply(null,arguments)},r._memcpy=function(){return(r._memcpy=r.asm.memcpy).apply(null,arguments)},r._free=function(){return(r._free=r.asm.free).apply(null,arguments)},r._calloc=function(){return(r._calloc=r.asm.calloc).apply(null,arguments)},r._ts_parser_delete=function(){return(r._ts_parser_delete=r.asm.ts_parser_delete).apply(null,arguments)},r._ts_parser_set_language=function(){return(r._ts_parser_set_language=r.asm.ts_parser_set_language).apply(null,arguments)},r._ts_parser_timeout_micros=function(){return(r._ts_parser_timeout_micros=r.asm.ts_parser_timeout_micros).apply(null,arguments)},r._ts_parser_set_timeout_micros=function(){return(r._ts_parser_set_timeout_micros=r.asm.ts_parser_set_timeout_micros).apply(null,arguments)},r._memcmp=function(){return(r._memcmp=r.asm.memcmp).apply(null,arguments)},r._ts_query_new=function(){return(r._ts_query_new=r.asm.ts_query_new).apply(null,arguments)},r._iswspace=function(){return(r._iswspace=r.asm.iswspace).apply(null,arguments)},r._ts_query_delete=function(){return(r._ts_query_delete=r.asm.ts_query_delete).apply(null,arguments)},r._iswalnum=function(){return(r._iswalnum=r.asm.iswalnum).apply(null,arguments)},r._ts_query_pattern_count=function(){return(r._ts_query_pattern_count=r.asm.ts_query_pattern_count).apply(null,arguments)},r._ts_query_capture_count=function(){return(r._ts_query_capture_count=r.asm.ts_query_capture_count).apply(null,arguments)},r._ts_query_string_count=function(){return(r._ts_query_string_count=r.asm.ts_query_string_count).apply(null,arguments)},r._ts_query_capture_name_for_id=function(){return(r._ts_query_capture_name_for_id=r.asm.ts_query_capture_name_for_id).apply(null,arguments)},r._ts_query_string_value_for_id=function(){return(r._ts_query_string_value_for_id=r.asm.ts_query_string_value_for_id).apply(null,arguments)},r._ts_query_predicates_for_pattern=function(){return(r._ts_query_predicates_for_pattern=r.asm.ts_query_predicates_for_pattern).apply(null,arguments)},r._ts_tree_copy=function(){return(r._ts_tree_copy=r.asm.ts_tree_copy).apply(null,arguments)},r._ts_tree_delete=function(){return(r._ts_tree_delete=r.asm.ts_tree_delete).apply(null,arguments)},r._ts_init=function(){return(r._ts_init=r.asm.ts_init).apply(null,arguments)},r._ts_parser_new_wasm=function(){return(r._ts_parser_new_wasm=r.asm.ts_parser_new_wasm).apply(null,arguments)},r._ts_parser_enable_logger_wasm=function(){return(r._ts_parser_enable_logger_wasm=r.asm.ts_parser_enable_logger_wasm).apply(null,arguments)},r._ts_parser_parse_wasm=function(){return(r._ts_parser_parse_wasm=r.asm.ts_parser_parse_wasm).apply(null,arguments)},r._ts_language_type_is_named_wasm=function(){return(r._ts_language_type_is_named_wasm=r.asm.ts_language_type_is_named_wasm).apply(null,arguments)},r._ts_language_type_is_visible_wasm=function(){return(r._ts_language_type_is_visible_wasm=r.asm.ts_language_type_is_visible_wasm).apply(null,arguments)},r._ts_tree_root_node_wasm=function(){return(r._ts_tree_root_node_wasm=r.asm.ts_tree_root_node_wasm).apply(null,arguments)},r._ts_tree_edit_wasm=function(){return(r._ts_tree_edit_wasm=r.asm.ts_tree_edit_wasm).apply(null,arguments)},r._ts_tree_get_changed_ranges_wasm=function(){return(r._ts_tree_get_changed_ranges_wasm=r.asm.ts_tree_get_changed_ranges_wasm).apply(null,arguments)},r._ts_tree_cursor_new_wasm=function(){return(r._ts_tree_cursor_new_wasm=r.asm.ts_tree_cursor_new_wasm).apply(null,arguments)},r._ts_tree_cursor_delete_wasm=function(){return(r._ts_tree_cursor_delete_wasm=r.asm.ts_tree_cursor_delete_wasm).apply(null,arguments)},r._ts_tree_cursor_reset_wasm=function(){return(r._ts_tree_cursor_reset_wasm=r.asm.ts_tree_cursor_reset_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_first_child_wasm=function(){return(r._ts_tree_cursor_goto_first_child_wasm=r.asm.ts_tree_cursor_goto_first_child_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_next_sibling_wasm=function(){return(r._ts_tree_cursor_goto_next_sibling_wasm=r.asm.ts_tree_cursor_goto_next_sibling_wasm).apply(null,arguments)},r._ts_tree_cursor_goto_parent_wasm=function(){return(r._ts_tree_cursor_goto_parent_wasm=r.asm.ts_tree_cursor_goto_parent_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_type_id_wasm=function(){return(r._ts_tree_cursor_current_node_type_id_wasm=r.asm.ts_tree_cursor_current_node_type_id_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_is_named_wasm=function(){return(r._ts_tree_cursor_current_node_is_named_wasm=r.asm.ts_tree_cursor_current_node_is_named_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_is_missing_wasm=function(){return(r._ts_tree_cursor_current_node_is_missing_wasm=r.asm.ts_tree_cursor_current_node_is_missing_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_id_wasm=function(){return(r._ts_tree_cursor_current_node_id_wasm=r.asm.ts_tree_cursor_current_node_id_wasm).apply(null,arguments)},r._ts_tree_cursor_start_position_wasm=function(){return(r._ts_tree_cursor_start_position_wasm=r.asm.ts_tree_cursor_start_position_wasm).apply(null,arguments)},r._ts_tree_cursor_end_position_wasm=function(){return(r._ts_tree_cursor_end_position_wasm=r.asm.ts_tree_cursor_end_position_wasm).apply(null,arguments)},r._ts_tree_cursor_start_index_wasm=function(){return(r._ts_tree_cursor_start_index_wasm=r.asm.ts_tree_cursor_start_index_wasm).apply(null,arguments)},r._ts_tree_cursor_end_index_wasm=function(){return(r._ts_tree_cursor_end_index_wasm=r.asm.ts_tree_cursor_end_index_wasm).apply(null,arguments)},r._ts_tree_cursor_current_field_id_wasm=function(){return(r._ts_tree_cursor_current_field_id_wasm=r.asm.ts_tree_cursor_current_field_id_wasm).apply(null,arguments)},r._ts_tree_cursor_current_node_wasm=function(){return(r._ts_tree_cursor_current_node_wasm=r.asm.ts_tree_cursor_current_node_wasm).apply(null,arguments)},r._ts_node_symbol_wasm=function(){return(r._ts_node_symbol_wasm=r.asm.ts_node_symbol_wasm).apply(null,arguments)},r._ts_node_child_count_wasm=function(){return(r._ts_node_child_count_wasm=r.asm.ts_node_child_count_wasm).apply(null,arguments)},r._ts_node_named_child_count_wasm=function(){return(r._ts_node_named_child_count_wasm=r.asm.ts_node_named_child_count_wasm).apply(null,arguments)},r._ts_node_child_wasm=function(){return(r._ts_node_child_wasm=r.asm.ts_node_child_wasm).apply(null,arguments)},r._ts_node_named_child_wasm=function(){return(r._ts_node_named_child_wasm=r.asm.ts_node_named_child_wasm).apply(null,arguments)},r._ts_node_child_by_field_id_wasm=function(){return(r._ts_node_child_by_field_id_wasm=r.asm.ts_node_child_by_field_id_wasm).apply(null,arguments)},r._ts_node_next_sibling_wasm=function(){return(r._ts_node_next_sibling_wasm=r.asm.ts_node_next_sibling_wasm).apply(null,arguments)},r._ts_node_prev_sibling_wasm=function(){return(r._ts_node_prev_sibling_wasm=r.asm.ts_node_prev_sibling_wasm).apply(null,arguments)},r._ts_node_next_named_sibling_wasm=function(){return(r._ts_node_next_named_sibling_wasm=r.asm.ts_node_next_named_sibling_wasm).apply(null,arguments)},r._ts_node_prev_named_sibling_wasm=function(){return(r._ts_node_prev_named_sibling_wasm=r.asm.ts_node_prev_named_sibling_wasm).apply(null,arguments)},r._ts_node_parent_wasm=function(){return(r._ts_node_parent_wasm=r.asm.ts_node_parent_wasm).apply(null,arguments)},r._ts_node_descendant_for_index_wasm=function(){return(r._ts_node_descendant_for_index_wasm=r.asm.ts_node_descendant_for_index_wasm).apply(null,arguments)},r._ts_node_named_descendant_for_index_wasm=function(){return(r._ts_node_named_descendant_for_index_wasm=r.asm.ts_node_named_descendant_for_index_wasm).apply(null,arguments)},r._ts_node_descendant_for_position_wasm=function(){return(r._ts_node_descendant_for_position_wasm=r.asm.ts_node_descendant_for_position_wasm).apply(null,arguments)},r._ts_node_named_descendant_for_position_wasm=function(){return(r._ts_node_named_descendant_for_position_wasm=r.asm.ts_node_named_descendant_for_position_wasm).apply(null,arguments)},r._ts_node_start_point_wasm=function(){return(r._ts_node_start_point_wasm=r.asm.ts_node_start_point_wasm).apply(null,arguments)},r._ts_node_end_point_wasm=function(){return(r._ts_node_end_point_wasm=r.asm.ts_node_end_point_wasm).apply(null,arguments)},r._ts_node_start_index_wasm=function(){return(r._ts_node_start_index_wasm=r.asm.ts_node_start_index_wasm).apply(null,arguments)},r._ts_node_end_index_wasm=function(){return(r._ts_node_end_index_wasm=r.asm.ts_node_end_index_wasm).apply(null,arguments)},r._ts_node_to_string_wasm=function(){return(r._ts_node_to_string_wasm=r.asm.ts_node_to_string_wasm).apply(null,arguments)},r._ts_node_children_wasm=function(){return(r._ts_node_children_wasm=r.asm.ts_node_children_wasm).apply(null,arguments)},r._ts_node_named_children_wasm=function(){return(r._ts_node_named_children_wasm=r.asm.ts_node_named_children_wasm).apply(null,arguments)},r._ts_node_descendants_of_type_wasm=function(){return(r._ts_node_descendants_of_type_wasm=r.asm.ts_node_descendants_of_type_wasm).apply(null,arguments)},r._ts_node_is_named_wasm=function(){return(r._ts_node_is_named_wasm=r.asm.ts_node_is_named_wasm).apply(null,arguments)},r._ts_node_has_changes_wasm=function(){return(r._ts_node_has_changes_wasm=r.asm.ts_node_has_changes_wasm).apply(null,arguments)},r._ts_node_has_error_wasm=function(){return(r._ts_node_has_error_wasm=r.asm.ts_node_has_error_wasm).apply(null,arguments)},r._ts_node_is_missing_wasm=function(){return(r._ts_node_is_missing_wasm=r.asm.ts_node_is_missing_wasm).apply(null,arguments)},r._ts_query_matches_wasm=function(){return(r._ts_query_matches_wasm=r.asm.ts_query_matches_wasm).apply(null,arguments)},r._ts_query_captures_wasm=function(){return(r._ts_query_captures_wasm=r.asm.ts_query_captures_wasm).apply(null,arguments)},r._memchr=function(){return(r._memchr=r.asm.memchr).apply(null,arguments)},r._strlen=function(){return(r._strlen=r.asm.strlen).apply(null,arguments)},r.___errno_location=function(){return(Te=r.___errno_location=r.asm.__errno_location).apply(null,arguments)}),Oe=(r._iswlower=function(){return(r._iswlower=r.asm.iswlower).apply(null,arguments)},r._iswalpha=function(){return(r._iswalpha=r.asm.iswalpha).apply(null,arguments)},r._iswdigit=function(){return(r._iswdigit=r.asm.iswdigit).apply(null,arguments)},r._towupper=function(){return(r._towupper=r.asm.towupper).apply(null,arguments)},r.stackSave=function(){return(Oe=r.stackSave=r.asm.stackSave).apply(null,arguments)}),Ze=r.stackRestore=function(){return(Ze=r.stackRestore=r.asm.stackRestore).apply(null,arguments)},Fe=r.stackAlloc=function(){return(Fe=r.stackAlloc=r.asm.stackAlloc).apply(null,arguments)};function We(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Le(e){function t(){ke||(ke=!0,r.calledRun=!0,x||(K=!0,de(B),de(H),r.onRuntimeInitialized&&r.onRuntimeInitialized(),$e&&function(e){var t=r._main;if(t)try{Me(t(0,0),!0)}catch(s){if(s instanceof We)return;if("unwind"==s)return void(w=!0);var n=s;s&&"object"==typeof s&&s.stack&&(n=[s,s.stack]),p("exception thrown: "+n),i(1,s)}}(),function(){if(r.postRun)for("function"==typeof r.postRun&&(r.postRun=[r.postRun]);r.postRun.length;)e=r.postRun.shift(),z.unshift(e);var e;de(z)}()))}X>0||(function(){if(r.preRun)for("function"==typeof r.preRun&&(r.preRun=[r.preRun]);r.preRun.length;)V(r.preRun.shift());de(G)}(),X>0||(r.setStatus?(r.setStatus("Running..."),setTimeout((function(){setTimeout((function(){r.setStatus("")}),1),t()}),1)):t()))}function Me(e,t){t&&w&&0===e||(w||(r.onExit&&r.onExit(e),x=!0),i(e,new We(e)))}if(r.__Znwm=function(){return(r.__Znwm=r.asm._Znwm).apply(null,arguments)},r.__ZdlPv=function(){return(r.__ZdlPv=r.asm._ZdlPv).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE6__initEPKcm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEED2Ev).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9__grow_byEmmmmmm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE7reserveEm).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE9push_backEc).apply(null,arguments)},r.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=function(){return(r.__ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm=r.asm._ZNKSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEE4copyEPcmm).apply(null,arguments)},r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=function(){return(r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev=r.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEED2Ev).apply(null,arguments)},r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=function(){return(r.__ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw=r.asm._ZNSt3__212basic_stringIwNS_11char_traitsIwEENS_9allocatorIwEEE9push_backEw).apply(null,arguments)},r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=function(){return(r.__ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_=r.asm._ZNSt3__212basic_stringIcNS_11char_traitsIcEENS_9allocatorIcEEEC1ERKS5_).apply(null,arguments)},r.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=function(){return(r.__ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv=r.asm._ZNKSt3__220__vector_base_commonILb1EE20__throw_length_errorEv).apply(null,arguments)},r._orig$ts_parser_timeout_micros=function(){return(r._orig$ts_parser_timeout_micros=r.asm.orig$ts_parser_timeout_micros).apply(null,arguments)},r._orig$ts_parser_set_timeout_micros=function(){return(r._orig$ts_parser_set_timeout_micros=r.asm.orig$ts_parser_set_timeout_micros).apply(null,arguments)},r._TRANSFER_BUFFER=2480,r.___cxa_new_handler=7112,r.allocate=function(e,t){var n;return n=t==O?Fe(e.length):qe(e.length),e.subarray||e.slice?k.set(e,n):k.set(new Uint8Array(e),n),n},Y=function e(){ke||Le(),ke||(Y=e)},r.run=Le,r.preInit)for("function"==typeof r.preInit&&(r.preInit=[r.preInit]);r.preInit.length>0;)r.preInit.pop()();var $e=!0;r.noInitialRun&&($e=!1),w=!0,Le();const je=r,Ue={},De=4,Ge=5*De,Be=2*De,He=2*De+2*Be,ze={row:0,column:0},Ke=/[\w-.]*/g,Ve=1,Xe=2,Ye=/^_?tree_sitter_\w+/;var Je,Qe,et,tt,nt,rt=new Promise((e=>{r.onRuntimeInitialized=e})).then((()=>{et=je._ts_init(),Je=S(et,"i32"),Qe=S(et+De,"i32")}));class st{static init(){return rt}constructor(){if(null==et)throw new Error("You must first call Parser.init() and wait for it to resolve.");je._ts_parser_new_wasm(),this[0]=S(et,"i32"),this[1]=S(et+De,"i32")}delete(){je._ts_parser_delete(this[0]),je._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let t;if(e){if(e.constructor!==ot)throw new Error("Argument must be a Language");{t=e[0];const n=je._ts_language_version(t);if(n<Qe||Je<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${Qe} through ${Je}.`)}}else t=0,e=null;return this.language=e,je._ts_parser_set_language(this[0],t),this}getLanguage(){return this.language}parse(e,t,n){if("string"==typeof e)tt=(t,n,r)=>e.slice(t,r);else{if("function"!=typeof e)throw new Error("Argument must be a string or a function");tt=e}this.logCallback?(nt=this.logCallback,je._ts_parser_enable_logger_wasm(this[0],1)):(nt=null,je._ts_parser_enable_logger_wasm(this[0],0));let r=0,s=0;if(n&&n.includedRanges){r=n.includedRanges.length;let e=s=je._calloc(r,He);for(let t=0;t<r;t++)bt(e,n.includedRanges[t]),e+=He}const _=je._ts_parser_parse_wasm(this[0],this[1],t?t[0]:0,s,r);if(!_)throw tt=null,nt=null,new Error("Parsing failed");const a=new _t(Ue,_,this.language,tt);return tt=null,nt=null,a}reset(){je._ts_parser_parse_wasm(this[0])}setTimeoutMicros(e){je._ts_parser_set_timeout_micros(this[0],e)}getTimeoutMicros(){return je._ts_parser_timeout_micros(this[0])}setLogger(e){if(e){if("function"!=typeof e)throw new Error("Logger callback must be a function")}else e=null;return this.logCallback=e,this}getLogger(){return this.logCallback}}class _t{constructor(e,t,n,r){mt(e),this[0]=t,this.language=n,this.textCallback=r}copy(){const e=je._ts_tree_copy(this[0]);return new _t(Ue,e,this.language,this.textCallback)}delete(){je._ts_tree_delete(this[0]),this[0]=0}edit(e){!function(e){let t=et;wt(t,e.startPosition),wt(t+=Be,e.oldEndPosition),wt(t+=Be,e.newEndPosition),I(t+=Be,e.startIndex,"i32"),I(t+=De,e.oldEndIndex,"i32"),I(t+=De,e.newEndIndex,"i32"),t+=De}(e),je._ts_tree_edit_wasm(this[0])}get rootNode(){return je._ts_tree_root_node_wasm(this[0]),pt(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==_t)throw new TypeError("Argument must be a Tree");je._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const t=S(et,"i32"),n=S(et+De,"i32"),r=new Array(t);if(t>0){let e=n;for(let n=0;n<t;n++)r[n]=Et(e),e+=He;je._free(n)}return r}}class at{constructor(e,t){mt(e),this.tree=t}get typeId(){return ft(this),je._ts_node_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get endPosition(){return ft(this),je._ts_node_end_point_wasm(this.tree[0]),yt(et)}get endIndex(){return ft(this),je._ts_node_end_index_wasm(this.tree[0])}get text(){return lt(this.tree,this.startIndex,this.endIndex)}isNamed(){return ft(this),1===je._ts_node_is_named_wasm(this.tree[0])}hasError(){return ft(this),1===je._ts_node_has_error_wasm(this.tree[0])}hasChanges(){return ft(this),1===je._ts_node_has_changes_wasm(this.tree[0])}isMissing(){return ft(this),1===je._ts_node_is_missing_wasm(this.tree[0])}equals(e){return this.id===e.id}child(e){return ft(this),je._ts_node_child_wasm(this.tree[0],e),pt(this.tree)}namedChild(e){return ft(this),je._ts_node_named_child_wasm(this.tree[0],e),pt(this.tree)}childForFieldId(e){return ft(this),je._ts_node_child_by_field_id_wasm(this.tree[0],e),pt(this.tree)}childForFieldName(e){const t=this.tree.language.fields.indexOf(e);if(-1!==t)return this.childForFieldId(t)}get childCount(){return ft(this),je._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return ft(this),je._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){ft(this),je._ts_node_children_wasm(this.tree[0]);const e=S(et,"i32"),t=S(et+De,"i32");if(this._children=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._children[t]=pt(this.tree,n),n+=Ge;je._free(t)}}return this._children}get namedChildren(){if(!this._namedChildren){ft(this),je._ts_node_named_children_wasm(this.tree[0]);const e=S(et,"i32"),t=S(et+De,"i32");if(this._namedChildren=new Array(e),e>0){let n=t;for(let t=0;t<e;t++)this._namedChildren[t]=pt(this.tree,n),n+=Ge;je._free(t)}}return this._namedChildren}descendantsOfType(e,t,n){Array.isArray(e)||(e=[e]),t||(t=ze),n||(n=ze);const r=[],s=this.tree.language.types;for(let u=0,l=s.length;u<l;u++)e.includes(s[u])&&r.push(u);const _=je._malloc(De*r.count);for(let u=0,l=r.length;u<l;u++)I(_+u*De,r[u],"i32");ft(this),je._ts_node_descendants_of_type_wasm(this.tree[0],_,r.length,t.row,t.column,n.row,n.column);const a=S(et,"i32"),i=S(et+De,"i32"),o=new Array(a);if(a>0){let e=i;for(let t=0;t<a;t++)o[t]=pt(this.tree,e),e+=Ge}return je._free(i),je._free(_),o}get nextSibling(){return ft(this),je._ts_node_next_sibling_wasm(this.tree[0]),pt(this.tree)}get previousSibling(){return ft(this),je._ts_node_prev_sibling_wasm(this.tree[0]),pt(this.tree)}get nextNamedSibling(){return ft(this),je._ts_node_next_named_sibling_wasm(this.tree[0]),pt(this.tree)}get previousNamedSibling(){return ft(this),je._ts_node_prev_named_sibling_wasm(this.tree[0]),pt(this.tree)}get parent(){return ft(this),je._ts_node_parent_wasm(this.tree[0]),pt(this.tree)}descendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");ft(this);let n=et+Ge;return I(n,e,"i32"),I(n+De,t,"i32"),je._ts_node_descendant_for_index_wasm(this.tree[0]),pt(this.tree)}namedDescendantForIndex(e,t=e){if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments must be numbers");ft(this);let n=et+Ge;return I(n,e,"i32"),I(n+De,t,"i32"),je._ts_node_named_descendant_for_index_wasm(this.tree[0]),pt(this.tree)}descendantForPosition(e,t=e){if(!dt(e)||!dt(t))throw new Error("Arguments must be {row, column} objects");ft(this);let n=et+Ge;return wt(n,e),wt(n+Be,t),je._ts_node_descendant_for_position_wasm(this.tree[0]),pt(this.tree)}namedDescendantForPosition(e,t=e){if(!dt(e)||!dt(t))throw new Error("Arguments must be {row, column} objects");ft(this);let n=et+Ge;return wt(n,e),wt(n+Be,t),je._ts_node_named_descendant_for_position_wasm(this.tree[0]),pt(this.tree)}walk(){return ft(this),je._ts_tree_cursor_new_wasm(this.tree[0]),new it(Ue,this.tree)}toString(){ft(this);const e=je._ts_node_to_string_wasm(this.tree[0]),t=function(e){for(var t="";;){var n=k[e++>>0];if(!n)return t;t+=String.fromCharCode(n)}}(e);return je._free(e),t}}class it{constructor(e,t){mt(e),this.tree=t,gt(this)}delete(){ht(this),je._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){ft(e),ht(this,et+Ge),je._ts_tree_cursor_reset_wasm(this.tree[0]),gt(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return ht(this),je._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeId(){return ht(this),je._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return ht(this),1===je._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])}get nodeIsMissing(){return ht(this),1===je._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])}get nodeText(){ht(this);const e=je._ts_tree_cursor_start_index_wasm(this.tree[0]),t=je._ts_tree_cursor_end_index_wasm(this.tree[0]);return lt(this.tree,e,t)}get startPosition(){return ht(this),je._ts_tree_cursor_start_position_wasm(this.tree[0]),yt(et)}get endPosition(){return ht(this),je._ts_tree_cursor_end_position_wasm(this.tree[0]),yt(et)}get startIndex(){return ht(this),je._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return ht(this),je._ts_tree_cursor_end_index_wasm(this.tree[0])}currentNode(){return ht(this),je._ts_tree_cursor_current_node_wasm(this.tree[0]),pt(this.tree)}currentFieldId(){return ht(this),je._ts_tree_cursor_current_field_id_wasm(this.tree[0])}currentFieldName(){return this.tree.language.fields[this.currentFieldId()]}gotoFirstChild(){ht(this);const e=je._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return gt(this),1===e}gotoNextSibling(){ht(this);const e=je._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return gt(this),1===e}gotoParent(){ht(this);const e=je._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return gt(this),1===e}}class ot{constructor(e,t){mt(e),this[0]=t,this.types=new Array(je._ts_language_symbol_count(this[0]));for(let n=0,r=this.types.length;n<r;n++)je._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=W(je._ts_language_symbol_name(this[0],n)));this.fields=new Array(je._ts_language_field_count(this[0])+1);for(let n=0,r=this.fields.length;n<r;n++){const e=je._ts_language_field_name_for_id(this[0],n);this.fields[n]=0!==e?W(e):null}}get version(){return je._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}fieldIdForName(e){const t=this.fields.indexOf(e);return-1!==t?t:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,t){const n=M(e),r=je._malloc(n+1);L(e,r,n+1);const s=je._ts_language_symbol_for_name(this[0],r,n,t);return je._free(r),s||null}get nodeTypeCount(){return je._ts_language_symbol_count(this[0])}nodeTypeForId(e){const t=je._ts_language_symbol_name(this[0],e);return t?W(t):null}nodeTypeIsNamed(e){return!!je._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!je._ts_language_type_is_visible_wasm(this[0],e)}query(e){const t=M(e),n=je._malloc(t+1);L(e,n,t+1);const r=je._ts_query_new(this[0],n,t,et,et+De);if(!r){const t=S(et+De,"i32"),r=W(n,S(et,"i32")).length,s=e.substr(r,100).split("\n")[0];let _,a=s.match(Ke)[0];switch(t){case 2:_=new RangeError(`Bad node name '${a}'`);break;case 3:_=new RangeError(`Bad field name '${a}'`);break;case 4:_=new RangeError(`Bad capture name @${a}`);break;case 5:_=new TypeError(`Bad pattern structure at offset ${r}: '${s}'...`),a="";break;default:_=new SyntaxError(`Bad syntax at offset ${r}: '${s}'...`),a=""}throw _.index=r,_.length=a.length,je._free(n),_}const s=je._ts_query_string_count(r),_=je._ts_query_capture_count(r),a=je._ts_query_pattern_count(r),i=new Array(_),o=new Array(s);for(let f=0;f<_;f++){const e=je._ts_query_capture_name_for_id(r,f,et),t=S(et,"i32");i[f]=W(e,t)}for(let f=0;f<s;f++){const e=je._ts_query_string_value_for_id(r,f,et),t=S(et,"i32");o[f]=W(e,t)}const u=new Array(a),l=new Array(a),c=new Array(a),m=new Array(a),d=new Array(a);for(let f=0;f<a;f++){const e=je._ts_query_predicates_for_pattern(r,f,et),t=S(et,"i32");m[f]=[],d[f]=[];const n=[];let s=e;for(let r=0;r<t;r++){const e=S(s,"i32"),t=S(s+=De,"i32");if(s+=De,e===Ve)n.push({type:"capture",name:i[t]});else if(e===Xe)n.push({type:"string",value:o[t]});else if(n.length>0){if("string"!==n[0].type)throw new Error("Predicates must begin with a literal value");const e=n[0].value;let t=!0;switch(e){case"not-eq?":t=!1;case"eq?":if(3!==n.length)throw new Error("Wrong number of arguments to `#eq?` predicate. Expected 2, got "+(n.length-1));if("capture"!==n[1].type)throw new Error(`First argument of \`#eq?\` predicate must be a capture. Got "${n[1].value}"`);if("capture"===n[2].type){const e=n[1].name,r=n[2].name;d[f].push((function(n){let s,_;for(const t of n)t.name===e&&(s=t.node),t.name===r&&(_=t.node);return s.text===_.text===t}))}else{const e=n[1].name,r=n[2].value;d[f].push((function(n){for(const s of n)if(s.name===e)return s.node.text===r===t;return!1}))}break;case"not-match?":t=!1;case"match?":if(3!==n.length)throw new Error(`Wrong number of arguments to \`#match?\` predicate. Expected 2, got ${n.length-1}.`);if("capture"!==n[1].type)throw new Error(`First argument of \`#match?\` predicate must be a capture. Got "${n[1].value}".`);if("string"!==n[2].type)throw new Error(`Second argument of \`#match?\` predicate must be a string. Got @${n[2].value}.`);const r=n[1].name,s=new RegExp(n[2].value);d[f].push((function(e){for(const n of e)if(n.name===r)return s.test(n.node.text)===t;return!1}));break;case"set!":if(n.length<2||n.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${n.length-1}.`);if(n.some((e=>"string"!==e.type)))throw new Error('Arguments to `#set!` predicate must be a strings.".');u[f]||(u[f]={}),u[f][n[1].value]=n[2]?n[2].value:null;break;case"is?":case"is-not?":if(n.length<2||n.length>3)throw new Error(`Wrong number of arguments to \`#${e}\` predicate. Expected 1 or 2. Got ${n.length-1}.`);if(n.some((e=>"string"!==e.type)))throw new Error(`Arguments to \`#${e}\` predicate must be a strings.".`);const _="is?"===e?l:c;_[f]||(_[f]={}),_[f][n[1].value]=n[2]?n[2].value:null;break;default:m[f].push({operator:e,operands:n.slice(1)})}n.length=0}}Object.freeze(u[f]),Object.freeze(l[f]),Object.freeze(c[f])}return je._free(n),new ut(Ue,r,i,d,m,Object.freeze(u),Object.freeze(l),Object.freeze(c))}static load(e){let t;if(e instanceof Uint8Array)t=Promise.resolve(e);else{const r=e;if("undefined"!=typeof process&&process.versions&&process.versions.node){const e=n;t=Promise.resolve(e.readFileSync(r))}else t=fetch(r).then((e=>e.arrayBuffer().then((t=>{if(e.ok)return new Uint8Array(t);{const n=new TextDecoder("utf-8").decode(t);throw new Error(`Language.load failed with status ${e.status}.\n\n${n}`)}}))))}const r=be;return t.then((e=>r(e,{loadAsync:!0}))).then((e=>{const t=Object.keys(e),n=t.find((e=>Ye.test(e)&&!e.includes("external_scanner_")));n||console.log(`Couldn't find language function in WASM file. Symbols:\n${JSON.stringify(t,null,2)}`);const r=e[n]();return new ot(Ue,r)}))}}class ut{constructor(e,t,n,r,s,_,a,i){mt(e),this[0]=t,this.captureNames=n,this.textPredicates=r,this.predicates=s,this.setProperties=_,this.assertedProperties=a,this.refutedProperties=i}delete(){je._ts_query_delete(this[0]),this[0]=0}matches(e,t,n){t||(t=ze),n||(n=ze),ft(e),je._ts_query_matches_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=S(et,"i32"),s=S(et+De,"i32"),_=new Array(r);let a=s;for(let i=0;i<r;i++){const t=S(a,"i32"),n=S(a+=De,"i32");a+=De;const r=new Array(n);if(a=ct(this,e.tree,a,r),this.textPredicates[t].every((e=>e(r)))){_[i]={pattern:t,captures:r};const e=this.setProperties[t];e&&(_[i].setProperties=e);const n=this.assertedProperties[t];n&&(_[i].assertedProperties=n);const s=this.refutedProperties[t];s&&(_[i].refutedProperties=s)}}return je._free(s),_}captures(e,t,n){t||(t=ze),n||(n=ze),ft(e),je._ts_query_captures_wasm(this[0],e.tree[0],t.row,t.column,n.row,n.column);const r=S(et,"i32"),s=S(et+De,"i32"),_=[],a=[];let i=s;for(let o=0;o<r;o++){const t=S(i,"i32"),n=S(i+=De,"i32"),r=S(i+=De,"i32");if(i+=De,a.length=n,i=ct(this,e.tree,i,a),this.textPredicates[t].every((e=>e(a)))){const e=a[r],n=this.setProperties[t];n&&(e.setProperties=n);const s=this.assertedProperties[t];s&&(e.assertedProperties=s);const i=this.refutedProperties[t];i&&(e.refutedProperties=i),_.push(e)}}return je._free(s),_}predicatesForPattern(e){return this.predicates[e]}}function lt(e,t,n){const r=n-t;let s=e.textCallback(t,null,n);for(t+=s.length;t<n;){const r=e.textCallback(t,null,n);if(!(r&&r.length>0))break;t+=r.length,s+=r}return t>n&&(s=s.slice(0,r)),s}function ct(e,t,n,r){for(let s=0,_=r.length;s<_;s++){const _=S(n,"i32"),a=pt(t,n+=De);n+=Ge,r[s]={name:e.captureNames[_],node:a}}return n}function mt(e){if(e!==Ue)throw new Error("Illegal constructor")}function dt(e){return e&&"number"==typeof e.row&&"number"==typeof e.column}function ft(e){let t=et;I(t,e.id,"i32"),I(t+=De,e.startIndex,"i32"),I(t+=De,e.startPosition.row,"i32"),I(t+=De,e.startPosition.column,"i32"),I(t+=De,e[0],"i32")}function pt(e,t=et){const n=S(t,"i32");if(0===n)return null;const r=S(t+=De,"i32"),s=S(t+=De,"i32"),_=S(t+=De,"i32"),a=S(t+=De,"i32"),i=new at(Ue,e);return i.id=n,i.startIndex=r,i.startPosition={row:s,column:_},i[0]=a,i}function ht(e,t=et){I(t+0*De,e[0],"i32"),I(t+1*De,e[1],"i32"),I(t+2*De,e[2],"i32")}function gt(e){e[0]=S(et+0*De,"i32"),e[1]=S(et+1*De,"i32"),e[2]=S(et+2*De,"i32")}function wt(e,t){I(e,t.row,"i32"),I(e+De,t.column,"i32")}function yt(e){return{row:S(e,"i32"),column:S(e+De,"i32")}}function bt(e,t){wt(e,t.startPosition),wt(e+=Be,t.endPosition),I(e+=Be,t.startIndex,"i32"),I(e+=De,t.endIndex,"i32"),e+=De}function Et(e){const t={};return t.startPosition=yt(e),e+=Be,t.endPosition=yt(e),e+=Be,t.startIndex=S(e,"i32"),e+=De,t.endIndex=S(e,"i32"),t}return st.Language=ot,st.Parser=st,st}()}(t={exports:{}},t.exports),t.exports);export{r as t};
